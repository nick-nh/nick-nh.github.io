---
layout: post
title: 'Дополнительный модуль "Действия после закрытия позиции" к скрипту SmartAlgoNet (Сеточник)'
author: "nnh"
description: Дополнительный модуль "Действия после закрытия позиции" к скрипту SmartAlgoNet (Сеточник)
tags: [скрипт,lua,qlua,квик,quik,Сеточник,SmartAlgoNet]
---

##	Основные возможности

Модуль предназначен для выполнения дейстыий после закрытия позиции по стопу или профиту. После закрытия позиции, если активировн режим, будут выполнены действия в соответствии с заданными условиями.

При подключении модуля (скопировать поставляемый файл в папку plugins) в окне настроек появится разделы:

![](/assets/images/plugins/net_after_close_level.PNG)

![](/assets/images/plugins/net_after_close_stop.PNG)

![](/assets/images/plugins/net_after_close_actions.PNG)

#### РАЗДЕЛ: ДЕЙСТВИЯ ПОСЛЕ ЗАКРЫТИЯ ПОЗИЦИИ

Можно указать два условия для разных действий. Например, Переоткрыть новую сетку том же направлении и в противоположном направлении. Или два других сочетания.

 - Действия при закрытии позиции - При закрытии всей позиции (при исполнении всех ордеров закрытия) можно выполнить действия:
     -  Ничего не делать -  текущая сетка продолжит работать.
     -  Переоткрыть новую сетку том же направлении - закрыть текущую сетку и установить новую сетку том же направлении.
     -  Переоткрыть новую сетку в противоположном направлении - закрыть текущую сетку и установить новую сетку в противоположном направлении.
     -  Снять текущую сетку - закрыть текущую сетку
     -  Снять текущую сетку и остановить - закрыть текущую сетку и остановить работу алгоритма

- Не более раз -  - можно указать допустимое число раз выполнения действия. Счетчик сбрасывается при остановке алгоритма.
- Условия выполнения действий - Для выполнения действий можно задать условия их выполнения. Если условие задано, то действие разбивается на две части: закрытие текущей сетки и выполнение действия после выполнения условия. Возможные значения:
     - Без условий -  т.е. действие будет сразу выполнено, если оно задано.
     - Цена прошла в том же направлении - в этом режиме действие разбивается на две части: закрытие текущей сетки и открытие новой после выполнения условия.
     - Цена прошла против направления - в этом режиме действие разбивается на две части: закрытие текущей сетки и открытие новой после выполнения условия.

- Уровень переоткрытия -  как отступ от текущей цены после закрытия текущей сетки.
- Тип цены уровня переоткрытия - Тип цены расчета уровней. Возможные значения:
     - Steps – шаги цены инструмента от текущей цены. Целое число. Шаг цены инструмента определен его спецификацией.
     - Pips - пункты цены инструмента от текущей цены. Целое число. Пункт - это минимальное изменение цены валюте цены инструмента. Для примера, цена 90.61 - это 9061 пункт. Изменение 90.61-90.62 - это разница в один пункт.
     - % (процент) - процент от текущей цены.
     - Price - уровень цены.

Аналогичные настройки и для действий после исполнения стоп-ордера.

Важно, если активирован даный дополнительный модуль, то в модуле "ЗАКРЫВАТЬ УРОВНИ ОТ СРЕДНЕЙ" методы Close NET, Reopen on DIR и Reopen opp DIR становятся недоступны, т.к. повторяют функциональность данного модуля.
